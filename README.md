# searchengine
<h1 align="center">Hi there, I'm Alex Veselov!</a> 
<img src="https://github.com/blackcater/blackcater/raw/main/images/Hi.gif" height="32"/></h1>
<h3 align="center">BYU Student, and Aspiring Java Programmer</h3>
## Добро пожаловать на страничуку проекта Search Engine :sun_with_face:.
Поисковый движок по сайтам, ссылки и названия сайтов указанны в конфигурации проекта application.yaml.

Скрин файла конфигурации:
![Sites](https://github.com/alexves-b/searchengine/assets/135314843/e321aef7-134e-405f-8aeb-a0813cc49069)

Описание файла и параметров:
server:
  port: 8888
Дефолтный порт 8080 может быть занят, поэтому в приложении я использую порт 8888.

Для индексации сайтов, укажите url - сайта, name, id;
_______________________________________________________________
В проекте используется база данных MySQL. 
Чтобы запустить индексацию, потребуется создать схему с именем : search_engine.
В файле конфигурации прописана ссылка и порт для подключению к базе данных.
Необходимо указать Ваши данные для авторизации. 

Ссылка для подключения к БД выглядит следующим образом:
![Connect to DB](https://github.com/alexves-b/searchengine/assets/135314843/c9cd6086-fc1d-4644-9698-de8976e4a376)
___________________________



Основная структура проекта состоит из 3 сервисов:
1. Отбражение статистики - вкладка "DASHBOARD".
2. Индексация сайтов - вкладка "MANAGEMENT".
3. Поиск по сайтам - вкладка "SEARCH".

![search_engine](https://github.com/alexves-b/searchengine/assets/135314843/6c5e961b-4229-429c-ac52-8795e28cb713)

<h3 align="center">1. Отображение статистики.</h3>
Сервис отвечает за отображение корректной статистики при работе сервиса.
После старта процесса индексации на вкладке "MANAGEMENT" - Статистика обновится и начнет отслеживать процесс индексации.
Можно увидеть количество лемм и проиндексированных страниц каждого сайта, и общую информацию по всем сайтам.
Для корректного просмотра статистики страницу необходимо обновлять вручную.
_______________________________________________

<h3 align="center">2. Индексация сайтов.</h3>
На вкладке "MANAGEMENT" нажите на кнопку синего цвета STARTINDEXING.
[startIndexing](https://github.com/alexves-b/searchengine/assets/135314843/c9716f3a-1368-470c-825f-d187a3a322d3)
В случае, если страницы были уже проиндексированны раннее, произойдет отчистка страниц, которая может занять продоложительное время.
Потребуется удалить множество индексов (около 500_000, большое число лемм и страниц).
Если Вы не уверены, что нажали на кнопку, можете нажать повторно.

После старта процесса индексации из файла конфигурации извлекаются данные по сайтам (url,name) и в рекурсивном
обходе происходит поиск ссылок по которым поисковый движок ещё не заходил.
Для рекурсивного обхода используется RecursiveAction и ForkJoinPool.

Каждый сайт запускается в отдельном потоке.
Потоки работают не совсем равномерно, поэтому не всегда можно ожидать одновременную индексацию всех сайтов.
По мере освобождения ресурсов, остальные сайты будут проиндексированны.

Для исключения дублей и повтрного обхода по посещенным ссылкам, используется сэт ссылок,
которые посетила программа при обходе и сэт сылок, которые ещё предстоит посетить.
В процессе индексации вместе с записью страниц, а затем лемм которые находятся на странице,
происходит запись индексов, отвечающих за соответствие страницы и леммы.
В момент записи страницы установлена блокировка, поскольку при многопоточном исполнении, могут появлятся нежелательные дубли. 
Наличие дубля, помимо повторения при поисковой выдаче, тратит время на индексацию лишних страниы, запись лишних лемм и индексов.
При проведении индексации в базу не записываются и пропускаются следующие расширения, не являющиеся интернет страницами:
.eps, .jpg, .jpeg, .png, .pdf, .doc, .xls, .xlsx, и страницы содержащие в своих путях "=ica" или "month=",
а также не содеержат "?" и "&" - что является признаком параметров HTTP запроса.

Скрин из Википедии, что такое лемматизация, и леммы: 
![lemma](https://github.com/alexves-b/searchengine/assets/135314843/422210bc-58b5-44ab-8664-b243e9f01147)
Скрин на английском языке:
![lemmanisation](https://github.com/alexves-b/searchengine/assets/135314843/5aec6af6-ac1a-4eb5-afc9-b37dabb2bb37)

В сервисе индексации добавлена возможность обновления/добавления страницы при указании её url, начиная с http://
![image](https://github.com/alexves-b/searchengine/assets/135314843/70fdbf1e-16be-49af-a787-a612f120fcfa)

В случае, если адрес страницы совпадет с сайтом из конфигурации, страница проиндексированна.
Если страница уже была ранее проиндексирванна, сначала будут удалены все индексы, частота лемм уменьшена, и удалена страница из базы.
В процессе индексации будет записана страница, добавлены леммы и созданы новые индексы.
_________________________________________________

<h3 align="center">3. Поиск по сайтам.</h3>

В верхнем поле, вы можете выбрать конкретный сайт для проведения поиска, или искать по всем сайтам.
Если поисковый запрос окажется пустым, программа выдаст соответствующее сообщение об ошибке.
Ищите, и получайте ссылки.
Вы можете указать одно, два или несколько слов.
Поиск не учитывает предолги, местоимения, междометия и частицы. 
Пример поискового запроса на скрине ниже:
![image](https://github.com/alexves-b/searchengine/assets/135314843/3ad13942-0bda-45d7-9b69-bee127503eb7)



В файле конфигурации вы можете изменить следующие параметры отображения сниппетов(фрагментов текста найденых на странице):
1. max_snippets: - количество сниппетов под каждой ссылкой.
2. lenght_snippet: 220 - размер сниппета(длинна) в символах.
Скрин из файла конфигурации:
![snippets](https://github.com/alexves-b/searchengine/assets/135314843/bd6ffd5e-0000-4c01-b1f6-f078eb38d7e8)

Спасибо за внимание!
Если будут вопросы, всегда можно написать мне в Tg - https://t.me/Alexves98  :palm_tree:













